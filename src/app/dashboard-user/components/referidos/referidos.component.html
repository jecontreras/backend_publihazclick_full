<div
  fxLayout="column"
  class="container content"
>
  <mat-tab-group
    mat-stretch-tabs
    class="example-stretched-tabs mat-elevation-z4"
  >
    <mat-tab
      label="Referidos"
    >
      <div
        fxLayout="column"
      >
        <div
          class="row margin mat-elevation-z4"
          *ngIf="!check"
        >
          <mat-form-field
              class="example-full-width col"
              *ngIf="!disableretiro"
          >
              <input
                  matInput
                  placeholder="Buscar Retiros"
                  [(ngModel)]="txtretiro"
                  autocomplete="off"
              >
          </mat-form-field>
          <div
            class="col"
            *ngIf="disableretiro"
          >

          </div>
          <div class="row margin">
            <button
              *ngIf="!disableretiro "
               mat-raised-button
               color="primary"
              (click)="buscadortxt(data)"
            >
              Buscar
            </button>
          </div>
        </div>
        <table
          mat-table
          [dataSource]="data.dataSource"
          class="mat-elevation-z8"
          *ngIf="!check"
        >

          <ng-container
            matColumnDef="posicion"
          >
            <th
              mat-header-cell
              *matHeaderCellDef
            >
              Ver
            </th>
            <td
              mat-cell
              *matCellDef="let element"
            >
              <button
                 mat-mini-fab color="primary"
                (click)="openreferidos(element, data)"
              >
                <i class="far fa-eye"></i>
              </button>
            </td>
          </ng-container>

          <ng-container matColumnDef="foto">
            <th mat-header-cell *matHeaderCellDef> Foto </th>
            <td mat-cell *matCellDef="let element">
                <img
                    [src]="element.foto"
                    alt="none"
                    width="30px"
                    height="50px"
                >
            </td>
          </ng-container>

          <ng-container matColumnDef="username">
            <th mat-header-cell *matHeaderCellDef> Nombre </th>
            <td mat-cell *matCellDef="let element" class="textInf"> {{element.username}} </td>
          </ng-container>

          <!-- <ng-container matColumnDef="email">
            <th mat-header-cell *matHeaderCellDef> Email </th>
            <td mat-cell *matCellDef="let element"> {{element.email}} </td>
          </ng-container> -->

          <ng-container matColumnDef="celular">
            <th mat-header-cell *matHeaderCellDef> Celular </th>
            <td mat-cell *matCellDef="let element" class="textInf"> {{ element.celular }} </td>
          </ng-container>

          <ng-container matColumnDef="nivel">
            <th mat-header-cell *matHeaderCellDef> Nivel </th>
            <td mat-cell *matCellDef="let element" class="textInf"> {{ element.nivel }} </td>
          </ng-container>

          <ng-container matColumnDef="fechadelpack">
            <th mat-header-cell *matHeaderCellDef> Fecha del Paquete </th>
            <td mat-cell *matCellDef="let element" class="textInf"> {{ element.fechadelpack | amDateFormat: 'YYYY-MM-DD HH:mm' }} </td>
          </ng-container>

          <!-- <ng-container matColumnDef="createdAt">
            <th mat-header-cell *matHeaderCellDef> Registrado </th>
            <td mat-cell *matCellDef="let element"> {{ element.createdAt | amDateFormat: 'YYYY/MM/DD HH:mm' }} </td>
          </ng-container> -->

          <tr
            mat-header-row
            *matHeaderRowDef="data.displayedColumns"
          >
          </tr>
          <tr
            mat-row
            *matRowDef="let row; columns: data.displayedColumns;"
            >
          </tr>
        </table>
        <mat-paginator
          *ngIf="!check"
          [length]="1000"
          [pageSize]="10"
          (page)="setPageSizeOptions(data, $event)"
        >
        </mat-paginator>
        <!-- <button
          (click)="setPageSizeOptions(data)"
        >
          Paginas
        </button> -->
        <div
          fxLayout="column"
          *ngIf="check"
          class="container mat-elevation-z5"
        >
          <div
            fxLayout="row"
            fxLayout="row"
          >
            <div
              fxFlex
            >

            </div>
            <button
              mat-mini-fab color="warn"
              (click)="openreferidos()"
            >
            <i class="fas fa-times"></i>
              <!-- Cerrar -->
            </button>
          </div>
          <div
            fxLayout="column"
          >
            <h6
              fxLayout="row"
              class="mat-elevation-z5 p"
            >
              <div
                class="p"
              >
                <img
                    [src]="datos.foto"
                    alt="none"
                    width="100px"
                    height="120px"
                >
              </div>
              <div
                fxFlex
                fxLayout="column"
              >
                <div
                  fxFlex
                >
                  <label class="text textInf">Username: </label>
                  <span class="textInf">{{ datos.username }}</span>
                </div>
                <div
                  fxFlex
                >
                  <label class="text textInf">Nombre: </label>
                  <span class="textInf">{{ datos.name }}</span>
                </div>
                <div
                  fxFlex
                >
                  <label class="text textInf">Nivel: </label>
                  <span class="textInf">{{ datos.nivel }}</span>
                </div>
              </div>
            </h6>
            <h6
              fxLayout="column"
            >
              <div
                fxLayout="row"
              >
                <div
                  fxFlex
                >
                  <span
                    class="text textInf"
                  >
                    Fecha de Registro:
                  </span>
                </div>
                <div>
                  <span class="textInf">{{ datos.createdAt | amDateFormat: 'YYYY/MM/DD HH:mm' }}</span>
                </div>
              </div>
              <div
                fxLayout="row"
              >
                <div
                  fxFlex
                >
                  <span
                    class="text textInf"
                  >
                    Seguidores:
                  </span>
                </div>
                <div>
                  <span class="textInf">{{ datos.seguidores || 0 }}</span>
                </div>
              </div>
              <!-- <div
                fxLayout="row"
              >
                <div
                  fxFlex
                >
                  <span
                    class="text"
                  >
                    Clicks:
                  </span>
                </div>
                <div>
                  {{ datos.clicks || 0 }}
                </div>
              </div> -->
              <div
                fxLayout="row"
              >
                <div
                  fxFlex
                >
                  <span
                    class="text textInf"
                  >
                    Recompensas:
                  </span>
                </div>
                <div>
                  <span class="textInf">{{ (datos.recompensas || 0).toLocaleString('de-DE', { style: 'currency', currency: 'COP' }) }}</span>
                </div>
              </div>
            </h6>
            <h6
              fxLayout="column"
            >
              <div
                fxLayout="row"
              >
                <div
                  fxFlex
                >
                  <span
                    class="text textInf"
                  >
                    Email:
                  </span>
                </div>
                <div>
                  <span class="textInf">{{ datos.email }}</span>
                </div>
              </div>
            </h6>
            <div
              fxLayout="row"
            >
              <div
                fxFlex
              >
                <span
                  class="text textInf"
                >
                  Numero de Celular:
                </span>
              </div>
              <div>
                <span class="textInf">{{ datos.celular }}</span>
              </div>
            </div>
            <div
              fxLayout="row"
            >
              <div
                fxFlex
              >
                <span
                  class="text textInf"
                >
                  Tareas Hoy:
                </span>
              </div>
              <div>
                <span class="textInf">{{ datos.tareashoy }}</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </mat-tab>
  </mat-tab-group>
</div>
